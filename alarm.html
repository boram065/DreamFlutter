<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>꿈틀이</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/alarm.css">
    <link rel="stylesheet" href="./css/nav.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body>
    <header>
        <nav class="nav container">
            <!-- logo -->
            <!-- logo 이미지 추가 -->
            <!-- <a href="./images/logo.png" class="nav-logo"></a> -->

            <!-- 이전 버튼 -->
            <div class="nav-style">
                <div class="nav-toggle">
                    <div class="pre" onclick="">
                        <i class="bi bi-chevron-left"></i>
                    </div>
                </div>
                <div class="nav-logo"></div>
            </div>
        </nav>
    </header>
    <div class="edit-box">
        <div class="edit">편집</div>
        <div class="plus-icon"><i class="bi bi-plus-lg"></i></div>
    </div>
    <h1 class="alarm-text">알람</h1>
    <p class="sub-text"><i class="bi bi-alarm"></i>  수면 | 기상</p>
    <div class="container-box">
        <!-- <div class="time">
            <div class="control">
                <p class="after">오전</p>
                <p class="time-text">5:00</h3>
            </div>

            <fieldset>
                <label>
                    <input role="switch" type="checkbox" />
                </label>
            </fieldset>
        </div> -->
        <div class="time2" style="display: none;">
            <div class="control">
                <p class="after">오전</p>
                <p class="time-text">9:30</h3>
            </div>

            <fieldset class="btn-position">
                <label>
                    <input role="switch" type="checkbox" checked />
                </label>
            </fieldset>
        </div>
        <div class="popup" id="popup">
            <div class="popup-content">
                <div class="del-div">
                    <i class="bi bi-x-lg" id="x-icon"></i>
                    <p class="delete">삭제</p>
                </div>
                <div class="select-time">
                    <div class="select-time-text" id="timeText">오전</div>
                    <input type="text" placeholder="00" id="input-t">:<input type="text" class="start" placeholder="00" id="input-m">
                </div>
                <hr>
                <p class="sleep-time">숙면 시간</p>
                <div class="btn-container">
                    <button class="sleep-btn" id="check">3시간</button>
                    <button class="sleep-btn">4시간 30분</button>
                    <button class="sleep-btn">6시간</button>
                    <button class="sleep-btn">7시간 30분</button>
                </div>
                <hr>
                <div class="select-time">
                    <div class="sleep-time-box" id="timeText">취침 시간</div>
                    <p class="jjajan">9</p>:<p class="jjajan">30</p>
                </div>
                

                <button class="ok">저장</button>

            </div>
        </div>
    </div>
    <script>
        // plus-icon 클래스를 가진 요소를 찾습니다.
        const plusIcon = document.querySelector('.plus-icon');

        // 팝업을 나타내는 함수를 정의합니다.
        function showPopup() {
            document.getElementById('popup').style.display = 'flex';
        }

        // plus-icon을 클릭하면 팝업을 나타내도록 이벤트 리스너를 추가합니다.
        plusIcon.addEventListener('click', showPopup);

        // 팝업 바깥을 클릭하면 팝업을 닫는 함수를 정의합니다.
        function hidePopup(event) {
            if (event.target === document.getElementById('popup') || event.target === document.getElementById('x-icon')) {
                document.getElementById('popup').style.display = 'none';
                // document.getElementById('x-icon').style.display = 'none';
            }
        }

        // 팝업 바깥을 클릭하면 팝업을 닫도록 이벤트 리스너를 추가합니다.
        document.getElementById('popup').addEventListener('click', hidePopup);
        document.getElementById('x-icon').addEventListener('click', hidePopup);

        function toggleTime() {
            const timeText = document.getElementById('timeText');
            // 현재 텍스트를 확인하고 반대로 변경합니다.
            if (timeText.textContent === '오전') {
                timeText.textContent = '오후';
            } else {
                timeText.textContent = '오전';
            }
        }

        // select-time-text 클래스를 가진 요소를 클릭하면 toggleTime 함수가 실행되도록 이벤트 리스너를 추가합니다.
        document.querySelector('.select-time-text').addEventListener('click', toggleTime);

        // 버튼 요소들을 선택합니다.
        const buttons = document.querySelectorAll('.sleep-btn');

        // 각 버튼에 대한 클릭 이벤트 리스너를 추가합니다.
        buttons.forEach(button => {
            button.addEventListener('click', function() {
                buttons.forEach(item => {
                    item.style.backgroundColor = '';
                    item.style.color = '';
                });
                // 현재 클릭한 버튼의 배경색을 변경합니다.
                this.style.backgroundColor = 'var(--main-color)';
                this.style.color = 'white';
            });
        });

        // const buttons = document.querySelectorAll('.sleep-btn');

        // "check" 버튼에 대한 클릭 이벤트 리스너를 추가합니다.
        document.getElementById('check').addEventListener('click', function() {
            // jjajan 클래스를 가진 요소들의 스타일을 변경하여 화면에 보이게 만듭니다.
            const jjajanElements = document.querySelectorAll('.jjajan');
            jjajanElements.forEach(element => {
                element.style.display = 'block';
            });
        });

        // function plusTime(){
        //     const time = document.getElementById('input-t').value;
            
        // }

        // 각 버튼에 대한 클릭 이벤트 리스너를 추가합니다.
        buttons.forEach(button => {
            button.addEventListener('click', function() {
                // 모든 버튼의 클래스를 초기화합니다.
                buttons.forEach(btn => {
                    btn.classList.remove('active');
                });

                // 현재 클릭한 버튼에 active 클래스를 추가합니다.
                this.classList.add('active');
            });
        });

        const okButton = document.querySelector('.ok');
        const popupElement = document.getElementById('popup');
        const time2Element = document.querySelector('.time2');

        // "ok" 버튼에 대한 클릭 이벤트 리스너를 추가합니다.
        okButton.addEventListener('click', function() {
            // ".popup" 클래스를 가진 요소의 display 속성을 'none'으로 설정하여 팝업을 숨깁니다.
            if (popupElement) {
                popupElement.style.display = 'none';
            }

            // ".time2" 클래스를 가진 요소의 display 속성을 'block'으로 설정하여 화면에 보이게 합니다.
            if (time2Element) {
                time2Element.style.display = 'block';
            }
        });
    </script>
</body>
</html>